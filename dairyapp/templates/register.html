{% load static %}
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>RegistrationForm_v10 by Colorlib</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- LINEARICONS -->
		<link rel="stylesheet" href="{% static 'register/fonts/linearicons/style.css' %}">

		<!-- STYLE CSS -->
		<link rel="stylesheet" href="{% static 'register/css/style.css' %}">
		 <script src="{% static 'js/register.js' %}"></script>
	</head>

	<body>

		<div class="wrapper">
			<div class="inner">
				<img src="{% static 'register/images/image-1.png' %}" alt="" class="image-1">
				<form action= register method ="post"  enctype="multipart/form-data" autocomplete="off">
					{% csrf_token %}
					<h3>New Account?</h3>
					<div class="form-holder">
						<span class="lnr lnr-user"></span>
						<input type="text" class="form-control"  name="first_name" placeholder= "Firstname" size="15"  onkeyup='fnameValidation(this)' required />

					</div>
					<div class="form-holder">
						<span id="name" class="new" style="color: red;"></span>
					</div>
					<div class="form-holder">
						<span class="lnr lnr-user"></span>
						<input type="text" class="form-control"  name="last_name" placeholder="Lastname" size="15" onkeyup='lnameValidation(this)' required />
						<div class="form-holder">
							<span id="names" class="new" style="color: red;"></span></div>
					</div>

					<div class="form-holder">
						<span class="lnr lnr-user"></span>
						<input type="text" class="form-control" name="username" placeholder="username" onkeyup='usernameValidation(this)' required >
						<div class="form-holder">
							<span id="username" class="new" style="color: red;"></span></div>
					</div>

					<div class="form-holder">
						<span class="lnr lnr-envelope"></span>
						<input type="email" class="form-control"  placeholder="Enter Email" name="email"  onkeyup='emailValidation(this)' required>
						<div class="form-holder">
							<span id="mail" class="new" style="color: red;"></span>
						</div>
					</div>
					<div class="form-holder">
						<span class="lnr lnr-lock"></span>
						<input type="password" class="form-control"  placeholder="password" name="password"onkeyup='passwordValidation(this)' required>
						<div class="form-holder">

						</div>
						<div class="form-holder">
							<span id="pass1" class="new" style="color: red;"></span>
						</div>
					</div>
					<div class="form-holder">
						<span class="lnr lnr-lock"></span>
						<input type="password" class="form-control"  placeholder="confirm password" name="cpassword" onkeyup='cpasswordValidation(this)' required>
						<div class="form-holder">
							<span id="pass2" class="new" style="color: red;"></span></div>
                        </div>

					<button id="myBtn" button type="submit" class="registerbtn">
						<span>Register</span>
					</button>
					<script>
var input = document.getElementById("myInput");
input.addEventListener("keypress", function(event) {
  if (event.key === "Enter") {
    event.preventDefault();
    document.getElementById("myBtn").click();
  }
});
</script>
				</form>
				<img src="{% static 'register/images/image-2.png' %}" alt="" class="image-2">
			</div>

		</div>

		<script src="{% static 'register/js/jquery-3.3.1.min.js' %}"></script>
		<script src="{% static 'register/js/main.js' %}"></script>
	</body><!-- This templates was made by Colorlib (https://colorlib.com) -->
<script type="text/javascript">
    function regvalidate() {
        var first_name = document.getElementById('first_name').value;
        var last_name = document.getElementById('last_name').value;
        var email = document.getElementById('email').value;
        var pwd1 = document.getElementById('pwd1').value;
        var pwd2 = document.getElementById('pwd2').value;


        const isPasswordSecure = (password) => {
            const re = new RegExp(
                "^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"
            );
            return re.test(password);

        };

        const isEmailValid = (email) => {
            const re =
                /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(email);
        };


        console.log(first_name);
        if (first_name == "") {
            document.getElementById('log-first').textContent = "Please enter your first name";
            document.getElementById('log-first').style.border = "1px solid red";
            document.getElementById("log-first").style.color = "red";

            return false;
        } else if (last_name == "") {
            document.getElementById('log-last').textContent = "Please enter your last name";
            document.getElementById('log-last').style.border = "1px solid red";
            document.getElementById("log-last").style.color = "red";


            return false;
        } else if (email == "") {
            document.getElementById('log-email').textContent = "Please enter your email";
            document.getElementById('log-email').style.border = "1px solid red";
            document.getElementById("log-email").style.color = "red";


            return false;

        } else if (!isEmailValid(email)) {
            document.getElementById('log-email').textContent =
                "enter a valid email";
            document.getElementById('log-email').style.color = "red";
            document.getElementById("log-email").style.color = "red";

            return false;
        } else if (password == "") {
            document.getElementById('log-passwd').textContent = "Please enter your password";
            document.getElementById('log-passwd').style.border = "1px solid red";
            document.getElementById("log-passwd").style.color = "red";

            return false;

            return false;
        } else if (!isPasswordSecure(password)) {
            document.getElementById('log-passwd').textContent =
                "Password must has at least 8 characters that include at least 1 lowercase character, 1 uppercase characters, 1 number, and 1 special character in (!@#$%^&*)";
            document.getElementById('log-passwd').style.border = "1px solid red";
            document.getElementById("log-passwd").style.color = "red";

            return false;


        } else if (pw2 == "") {
            document.getElementById('log-confirm').textContent = "Please enter your confirm password";
            document.getElementById('log-confirm').style.border = "1px solid red";
            document.getElementById("log-confirm").style.color = "red";


            return false;
        } else if (pwd1 != pwd2) {
            document.getElementById('log-confirm').textContent = "Password does not match";
            document.getElementById('log-confirm').style.border = "1px solid red";
            document.getElementById("log-confirm").style.color = "red";

            return false;
        } else {
            return true;
        }

        return true;

    }
</script>
</html>